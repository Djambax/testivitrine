---
// Page Prestations - prestations.astro
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

const services = [
  {
    id: 'coaching',
    title: 'Coaching Individuel',
    subtitle: 'Accompagnement personnalisé pour votre développement',
    description: 'Sessions individuelles sur mesure pour accélérer votre croissance professionnelle',
    icon: 'user-check',
    features: [
      'Sessions 1h30 en visio/présentiel',
      'Plan d\'action personnalisé',
      'Outils et ressources exclusifs',
      'Suivi entre sessions',
      'Objectifs mesurables'
    ],
    price: 'À partir de 150€',
    duration: '1h30',
    gradient: 'from-blue-500 to-blue-600'
  },
  {
    id: 'mentorat',
    title: 'Mentorat Professionnel',
    subtitle: 'Bénéficiez de l\'expérience d\'experts',
    description: 'Accompagnement stratégique par des professionnels expérimentés de votre secteur',
    icon: 'users',
    features: [
      'Accompagnement stratégique',
      'Réseau professionnel',
      'Retours d\'expérience',
      'Conseils sectoriels',
      'Vision long terme'
    ],
    price: 'À partir de 200€',
    duration: '2h',
    gradient: 'from-purple-500 to-purple-600'
  },
  {
    id: 'post-formation',
    title: 'Accompagnement Post-Formation',
    subtitle: 'Mise en pratique guidée de vos acquis',
    description: 'Suivi personnalisé pour garantir l\'application concrète de vos nouvelles compétences',
    icon: 'graduation-cap',
    features: [
      'Mise en pratique guidée',
      'Questions/réponses illimitées',
      'Ajustements du plan',
      'Certification finale',
      'Support continu'
    ],
    price: 'À partir de 100€',
    duration: '1h',
    gradient: 'from-green-500 to-green-600'
  },
  {
    id: 'suivi-long-terme',
    title: 'Suivi Long Terme',
    subtitle: 'Accompagnement sur la durée',
    description: 'Programme d\'accompagnement étalé sur plusieurs mois pour des résultats durables',
    icon: 'trending-up',
    features: [
      'Points mensuels',
      'Adaptation des objectifs',
      'Évolution de carrière',
      'Réseau alumni',
      'ROI mesurable'
    ],
    price: 'À partir de 500€/mois',
    duration: 'Flexible',
    gradient: 'from-yellow-500 to-yellow-600'
  }
];

const processSteps = [
  {
    number: '01',
    title: 'Diagnostic Initial',
    description: 'Analyse approfondie de vos besoins et objectifs',
    details: [
      'Entretien de découverte (30 min gratuit)',
      'Évaluation des compétences actuelles',
      'Définition des objectifs SMART',
      'Identification des blocages'
    ],
    icon: 'search',
    duration: '1-2 semaines'
  },
  {
    number: '02',
    title: 'Plan Personnalisé',
    description: 'Création d\'un roadmap sur mesure pour votre réussite',
    details: [
      'Stratégie d\'accompagnement adaptée',
      'Planning des sessions',
      'Ressources et outils dédiés',
      'KPIs de suivi'
    ],
    icon: 'map',
    duration: '3-5 jours'
  },
  {
    number: '03',
    title: 'Sessions d\'Accompagnement',
    description: 'Mise en œuvre du plan avec un suivi régulier',
    details: [
      'Sessions programmées',
      'Exercices pratiques',
      'Feedback constructif',
      'Ajustements en temps réel'
    ],
    icon: 'calendar',
    duration: 'Selon programme'
  },
  {
    number: '04',
    title: 'Suivi et Ajustements',
    description: 'Accompagnement continu et optimisation des résultats',
    details: [
      'Points de progression',
      'Adaptation des méthodes',
      'Célébration des succès',
      'Plan de consolidation'
    ],
    icon: 'chart-line',
    duration: 'En continu'
  }
];

const pricingTiers = [
  {
    name: 'Découverte',
    subtitle: 'Pour commencer',
    price: '150',
    period: 'session',
    description: 'Idéal pour tester notre approche',
    features: [
      '1 session de coaching (1h30)',
      'Diagnostic personnalisé',
      'Plan d\'action',
      'Ressources de base',
      'Suivi email 1 semaine'
    ],
    cta: 'Commencer',
    popular: false,
    color: 'blue'
  },
  {
    name: 'Accompagnement',
    subtitle: 'Le plus demandé',
    price: '800',
    period: '3 mois',
    description: 'Programme complet sur 3 mois',
    features: [
      '6 sessions de coaching',
      'Suivi personnalisé',
      'Ressources premium',
      'Support illimité',
      'Bilan de progression',
      'Accès communauté'
    ],
    cta: 'Choisir ce plan',
    popular: true,
    color: 'yellow'
  },
  {
    name: 'Transformation',
    subtitle: 'Pour aller plus loin',
    price: '1500',
    period: '6 mois',
    description: 'Transformation profonde avec mentorat',
    features: [
      '12 sessions + mentorat',
      'Accompagnement intensif',
      'Mise en réseau',
      'Formation complémentaire',
      'Certification',
      'Garantie résultats'
    ],
    cta: 'Transformer ma carrière',
    popular: false,
    color: 'purple'
  },
  {
    name: 'Excellence',
    subtitle: 'Programme premium',
    price: 'Sur mesure',
    period: '12 mois',
    description: 'Accompagnement VIP personnalisé',
    features: [
      'Accompagnement illimité',
      'Mentor dédié',
      'Accès VIP événements',
      'Formation sur mesure',
      'Réseau exclusif',
      'Support prioritaire'
    ],
    cta: 'Nous contacter',
    popular: false,
    color: 'green'
  }
];

const testimonials = [
  {
    name: 'Sarah Dubois',
    role: 'Directrice Marketing',
    company: 'TechCorp',
    image: 'SD',
    testimonial: 'L\'accompagnement personnalisé m\'a permis de développer mes compétences en leadership et d\'obtenir ma promotion en 6 mois.',
    rating: 5,
    service: 'Coaching Individuel'
  },
  {
    name: 'Marc Leroy',
    role: 'Entrepreneur',
    company: 'StartupInnovate',
    image: 'ML',
    testimonial: 'Le mentorat m\'a aidé à structurer mon business model et à lever mes premiers fonds. Un investissement qui en valait la peine.',
    rating: 5,
    service: 'Mentorat Professionnel'
  },
  {
    name: 'Claire Martin',
    role: 'Chef de Projet',
    company: 'AgenceDigital',
    image: 'CM',
    testimonial: 'Le suivi long terme m\'a permis de passer de chef de projet à directrice technique. L\'accompagnement est exceptionnel.',
    rating: 5,
    service: 'Suivi Long Terme'
  }
];
---

<Layout title="Prestations & Accompagnement - NOVA IMPÉRIA" description="Services d'accompagnement personnalisé : coaching, mentorat, suivi post-formation. Transformez vos compétences avec un expert dédié.">
  <Header slot="header" />
  
  <!-- Hero Section -->
  <section class="relative pt-32 pb-20 bg-gradient-to-br from-gray-50 via-white to-blue-50 overflow-hidden">
    <!-- Background Elements -->
    <div class="absolute inset-0">
      <div class="absolute top-20 right-10 w-72 h-72 bg-blue-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse"></div>
      <div class="absolute bottom-20 left-10 w-72 h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-pulse" style="animation-delay: 2s;"></div>
    </div>
    
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center" data-aos="fade-up">
        <h1 class="text-hero font-accent text-black mb-6">
          Accompagnement <span class="gradient-text">Personnalisé</span>
        </h1>
        <p class="text-subtitle text-gray-600 max-w-4xl mx-auto mb-8">
          Transformez vos compétences avec un suivi sur mesure. Nos experts vous accompagnent 
          dans votre développement professionnel pour des résultats concrets et durables.
        </p>
        
        <div class="flex flex-col sm:flex-row gap-6 justify-center items-center mb-12">
          <a href="#services" class="btn btn-primary btn-magnetic text-lg px-8 py-4">
            <i data-lucide="arrow-down" class="w-5 h-5"></i>
            <span>Découvrir nos services</span>
          </a>
          <a href="#contact" class="btn btn-secondary text-lg px-8 py-4">
            <i data-lucide="calendar" class="w-5 h-5"></i>
            <span>Réserver une consultation</span>
          </a>
        </div>
        
        <!-- Stats Premium -->
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto" data-aos="fade-up" data-aos-delay="200">
          <div class="text-center">
            <div class="text-4xl font-bold gradient-text mb-2">95%</div>
            <div class="text-sm text-gray-600">Satisfaction client</div>
          </div>
          <div class="text-center">
            <div class="text-4xl font-bold gradient-text mb-2">200+</div>
            <div class="text-sm text-gray-600">Professionnels accompagnés</div>
          </div>
          <div class="text-center">
            <div class="text-4xl font-bold gradient-text mb-2">6 mois</div>
            <div class="text-sm text-gray-600">Délai moyen résultats</div>
          </div>
          <div class="text-center">
            <div class="text-4xl font-bold gradient-text mb-2">24/7</div>
            <div class="text-sm text-gray-600">Support disponible</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Overview -->
  <section id="services" class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16" data-aos="fade-up">
        <h2 class="text-4xl font-bold text-black mb-4">Nos Services d'Accompagnement</h2>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          Choisissez le service qui correspond le mieux à vos besoins et objectifs professionnels
        </p>
      </div>
      
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        {services.map((service, index) => (
          <div 
            class="service-card card relative p-8 group cursor-pointer"
            data-aos="fade-up"
            data-aos-delay={index * 100}
            data-service={service.id}
          >
            <!-- Header -->
            <div class="flex items-start space-x-4 mb-6">
              <div class={`w-16 h-16 bg-gradient-to-br ${service.gradient} rounded-2xl flex items-center justify-center text-white transform group-hover:scale-110 transition-transform duration-300`}>
                <i data-lucide={service.icon} class="w-8 h-8"></i>
              </div>
              <div class="flex-1">
                <h3 class="text-2xl font-bold text-black mb-1 group-hover:text-blue-600 transition-colors">
                  {service.title}
                </h3>
                <p class="text-blue-600 font-medium text-sm mb-2">{service.subtitle}</p>
                <p class="text-gray-600 leading-relaxed">{service.description}</p>
              </div>
            </div>
            
            <!-- Features -->
            <div class="mb-6">
              <h4 class="font-semibold text-gray-800 mb-3">Ce qui est inclus :</h4>
              <ul class="space-y-2">
                {service.features.map((feature) => (
                  <li class="flex items-center space-x-3">
                    <i data-lucide="check" class="w-4 h-4 text-green-500 flex-shrink-0"></i>
                    <span class="text-gray-700 text-sm">{feature}</span>
                  </li>
                ))}
              </ul>
            </div>
            
            <!-- Footer -->
            <div class="flex items-center justify-between pt-4 border-t border-gray-100">
              <div>
                <div class="text-2xl font-bold text-gray-900">{service.price}</div>
                <div class="text-sm text-gray-500">Durée : {service.duration}</div>
              </div>
              <button class="btn btn-primary btn-magnetic service-select-btn">
                <span>Choisir</span>
                <i data-lucide="arrow-right" class="w-4 h-4"></i>
              </button>
            </div>
            
            <!-- Hover Effect -->
            <div class="absolute inset-0 bg-gradient-to-br from-blue-500/5 to-purple-500/5 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none"></div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Process Steps -->
  <section class="py-20 bg-gray-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16" data-aos="fade-up">
        <h2 class="text-4xl font-bold text-black mb-4">Comment Ça Marche ?</h2>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          Un processus éprouvé en 4 étapes pour garantir votre succès
        </p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
        {processSteps.map((step, index) => (
          <div 
            class="text-center group"
            data-aos="fade-up"
            data-aos-delay={index * 150}
          >
            <!-- Step Number -->
            <div class="relative mb-8">
              <div class="w-20 h-20 bg-gradient-primary rounded-full flex items-center justify-center text-2xl font-bold text-black mx-auto group-hover:scale-110 transition-transform duration-300 relative z-10">
                {step.number}
              </div>
              <div class="absolute inset-0 bg-gradient-primary rounded-full opacity-20 scale-150 group-hover:scale-175 transition-transform duration-300"></div>
              
              <!-- Connection Line -->
              {index < processSteps.length - 1 && (
                <div class="hidden lg:block absolute top-10 left-full w-full h-0.5 bg-gradient-to-r from-yellow-400 to-transparent -ml-10 z-0"></div>
              )}
            </div>
            
            <!-- Content -->
            <div class="space-y-4">
              <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mx-auto mb-4 group-hover:bg-blue-200 transition-colors">
                <i data-lucide={step.icon} class="w-6 h-6 text-blue-600"></i>
              </div>
              <h3 class="text-xl font-bold text-black mb-3 group-hover:text-blue-600 transition-colors">
                {step.title}
              </h3>
              <p class="text-gray-600 leading-relaxed mb-4">
                {step.description}
              </p>
              <div class="text-sm text-blue-600 font-medium">
                Durée : {step.duration}
              </div>
              
              <!-- Details (expandable) -->
              <div class="step-details hidden mt-4 space-y-2">
                {step.details.map((detail) => (
                  <div class="flex items-center space-x-2 text-sm text-gray-600">
                    <i data-lucide="arrow-right" class="w-3 h-3 text-blue-500"></i>
                    <span>{detail}</span>
                  </div>
                ))}
              </div>
              
              <button class="step-toggle text-sm text-blue-600 hover:text-blue-800 font-medium">
                Voir les détails
              </button>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Pricing Tiers -->
  <section class="py-20 bg-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16" data-aos="fade-up">
        <h2 class="text-4xl font-bold text-black mb-4">Choisissez Votre Formule</h2>
        <p class="text-xl text-gray-600 max-w-3xl mx-auto">
          Des options flexibles adaptées à vos besoins et votre budget
        </p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        {pricingTiers.map((tier, index) => (
          <div 
            class={`pricing-card relative rounded-3xl p-8 ${tier.popular ? 'ring-4 ring-yellow-400 scale-105 bg-gradient-to-br from-yellow-50 to-yellow-100' : 'bg-white border border-gray-200'} hover:shadow-2xl transition-all duration-300`}
            data-aos="fade-up"
            data-aos-delay={index * 100}
          >
            {tier.popular && (
              <div class="absolute -top-4 left-1/2 transform -translate-x-1/2">
                <span class="bg-gradient-primary text-black px-6 py-2 rounded-full text-sm font-bold">
                  ⭐ POPULAIRE
                </span>
              </div>
            )}
            
            <!-- Header -->
            <div class="text-center mb-8">
              <h3 class="text-2xl font-bold text-black mb-2">{tier.name}</h3>
              <p class="text-gray-600 text-sm mb-4">{tier.subtitle}</p>
              <div class="mb-4">
                <span class="text-4xl font-bold text-black">{tier.price}</span>
                {tier.period !== 'Sur mesure' && (
                  <span class="text-gray-500">€/{tier.period}</span>
                )}
              </div>
              <p class="text-gray-600 text-sm">{tier.description}</p>
            </div>
            
            <!-- Features -->
            <div class="space-y-4 mb-8">
              {tier.features.map((feature) => (
                <div class="flex items-start space-x-3">
                  <i data-lucide="check" class="w-5 h-5 text-green-500 mt-0.5 flex-shrink-0"></i>
                  <span class="text-gray-700 text-sm leading-relaxed">{feature}</span>
                </div>
              ))}
            </div>
            
            <!-- CTA -->
            <button class={`w-full py-4 px-6 rounded-xl font-semibold transition-all duration-300 ${
              tier.popular 
                ? 'bg-gradient-primary text-black hover:shadow-lg' 
                : 'bg-gray-900 text-white hover:bg-gray-800'
            } pricing-select-btn`}
            data-tier={tier.name.toLowerCase()}>
              {tier.cta}
            </button>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="py-20 bg-gray-900 text-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16" data-aos="fade-up">
        <h2 class="text-4xl font-bold mb-4">Témoignages Clients</h2>
        <p class="text-xl text-gray-300 max-w-3xl mx-auto">
          Découvrez les résultats concrets obtenus par nos clients
        </p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        {testimonials.map((testimonial, index) => (
          <div 
            class="testimonial-card bg-gray-800 rounded-2xl p-8 hover:bg-gray-700 transition-colors duration-300"
            data-aos="fade-up"
            data-aos-delay={index * 200}
          >
            <!-- Header -->
            <div class="flex items-center mb-6">
              <div class="w-16 h-16 bg-gradient-primary rounded-full flex items-center justify-center text-black font-bold text-lg mr-4">
                {testimonial.image}
              </div>
              <div>
                <h4 class="font-semibold text-white">{testimonial.name}</h4>
                <p class="text-yellow-400 text-sm">{testimonial.role}</p>
                <p class="text-gray-400 text-xs">{testimonial.company}</p>
              </div>
            </div>
            
            <!-- Testimonial -->
            <blockquote class="text-gray-300 italic leading-relaxed mb-6">
              "{testimonial.testimonial}"
            </blockquote>
            
            <!-- Rating & Service -->
            <div class="flex items-center justify-between">
              <div class="flex text-yellow-400">
                {[...Array(testimonial.rating)].map((_, i) => (
                  <i data-lucide="star" class="w-4 h-4 fill-current" key={i}></i>
                ))}
              </div>
              <span class="text-xs text-gray-400">{testimonial.service}</span>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Multi-Step Quote Form -->
  <section id="contact" class="py-20 bg-gradient-to-br from-blue-50 to-purple-50">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12" data-aos="fade-up">
        <h2 class="text-4xl font-bold text-black mb-4">Réservez Votre Consultation</h2>
        <p class="text-xl text-gray-600">
          Première consultation gratuite de 30 minutes pour définir vos besoins
        </p>
      </div>
      
      <!-- Multi-Step Form -->
      <div class="bg-white rounded-3xl shadow-2xl overflow-hidden" data-aos="fade-up" data-aos-delay="200">
        <!-- Progress Bar -->
        <div class="bg-gray-50 px-8 py-6">
          <div class="flex items-center justify-between mb-4">
            <span class="text-sm font-medium text-gray-600">Étape <span id="currentStep">1</span> sur 4</span>
            <span class="text-sm text-gray-500" id="stepTitle">Service</span>
          </div>
          <div class="w-full bg-gray-200 rounded-full h-2">
            <div id="progressBar" class="bg-gradient-primary h-2 rounded-full transition-all duration-500" style="width: 25%"></div>
          </div>
        </div>
        
        <!-- Form Steps -->
        <form id="quoteForm" class="p-8">
          <!-- Step 1: Service Selection -->
          <div class="form-step active" id="step1">
            <h3 class="text-2xl font-bold text-black mb-6">Quel service vous intéresse ?</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
              {services.map((service) => (
                <label class="service-option relative cursor-pointer group">
                  <input type="radio" name="service" value={service.id} class="sr-only" />
                  <div class="border-2 border-gray-200 rounded-xl p-6 hover:border-blue-300 transition-colors group-hover:bg-blue-50">
                    <div class="flex items-center space-x-4">
                      <div class={`w-12 h-12 bg-gradient-to-br ${service.gradient} rounded-lg flex items-center justify-center text-white`}>
                        <i data-lucide={service.icon} class="w-6 h-6"></i>
                      </div>
                      <div>
                        <h4 class="font-semibold text-black">{service.title}</h4>
                        <p class="text-sm text-gray-600">{service.price}</p>
                      </div>
                    </div>
                  </div>
                  <div class="service-check absolute top-4 right-4 w-6 h-6 bg-blue-600 rounded-full hidden items-center justify-center">
                    <i data-lucide="check" class="w-4 h-4 text-white"></i>
                  </div>
                </label>
              ))}
            </div>
          </div>
          
          <!-- Step 2: Personal Info -->
          <div class="form-step" id="step2">
            <h3 class="text-2xl font-bold text-black mb-6">Vos informations</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Prénom *</label>
                <input type="text" name="firstName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Nom *</label>
                <input type="text" name="lastName" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Email *</label>
                <input type="email" name="email" required class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Téléphone</label>
                <input type="tel" name="phone" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Entreprise</label>
                <input type="text" name="company" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
              </div>
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Poste actuel</label>
                <input type="text" name="position" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" />
              </div>
            </div>
          </div>
          
          <!-- Step 3: Needs Assessment -->
          <div class="form-step" id="step3">
            <h3 class="text-2xl font-bold text-black mb-6">Vos objectifs</h3>
            <div class="space-y-6">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-3">Quels sont vos défis actuels ? (plusieurs choix possibles)</label>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                  {[
                    'Leadership et management',
                    'Communication interpersonnelle', 
                    'Gestion du stress',
                    'Développement de carrière',
                    'Équilibre vie pro/perso',
                    'Confiance en soi',
                    'Gestion du temps',
                    'Prise de décision'
                  ].map((challenge) => (
                    <label class="flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                      <input type="checkbox" name="challenges" value={challenge} class="text-blue-600 focus:ring-blue-500" />
                      <span class="text-sm text-gray-700">{challenge}</span>
                    </label>
                  ))}
                </div>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-3">Dans quel délai souhaitez-vous voir des résultats ?</label>
                <select name="timeline" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent">
                  <option value="">Sélectionnez une option</option>
                  <option value="1-3-mois">1-3 mois</option>
                  <option value="3-6-mois">3-6 mois</option>
                  <option value="6-12-mois">6-12 mois</option>
                  <option value="plus-12-mois">Plus de 12 mois</option>
                </select>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-3">Budget envisagé</label>
                <div class="space-y-3">
                  {[
                    { label: 'Moins de 500€', value: '0-500' },
                    { label: '500€ - 1000€', value: '500-1000' },
                    { label: '1000€ - 2000€', value: '1000-2000' },
                    { label: 'Plus de 2000€', value: '2000+' }
                  ].map((budget) => (
                    <label class="flex items-center space-x-3 cursor-pointer">
                      <input type="radio" name="budget" value={budget.value} class="text-blue-600 focus:ring-blue-500" />
                      <span class="text-sm text-gray-700">{budget.label}</span>
                    </label>
                  ))}
                </div>
              </div>
            </div>
          </div>
          
          <!-- Step 4: Scheduling -->
          <div class="form-step" id="step4">
            <h3 class="text-2xl font-bold text-black mb-6">Planification</h3>
            <div class="space-y-6">
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-3">Préférence de créneaux</label>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-3">
                  {[
                    'Matin (9h-12h)',
                    'Après-midi (14h-17h)',
                    'Soir (18h-20h)'
                  ].map((slot) => (
                    <label class="flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer">
                      <input type="checkbox" name="timeSlots" value={slot} class="text-blue-600 focus:ring-blue-500" />
                      <span class="text-sm text-gray-700">{slot}</span>
                    </label>
                  ))}
                </div>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-3">Format préféré</label>
                <div class="space-y-3">
                  {[
                    { label: 'Visioconférence', value: 'visio' },
                    { label: 'Présentiel (Paris)', value: 'presentiel' },
                    { label: 'Téléphone', value: 'telephone' }
                  ].map((format) => (
                    <label class="flex items-center space-x-3 cursor-pointer">
                      <input type="radio" name="format" value={format.value} class="text-blue-600 focus:ring-blue-500" />
                      <span class="text-sm text-gray-700">{format.label}</span>
                    </label>
                  ))}
                </div>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-3">Message complémentaire</label>
                <textarea name="message" rows="4" class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent" placeholder="Décrivez plus en détail vos attentes..."></textarea>
              </div>
            </div>
          </div>
          
          <!-- Navigation Buttons -->
          <div class="flex justify-between items-center mt-8 pt-6 border-t border-gray-200">
            <button type="button" id="prevBtn" class="btn btn-ghost hidden">
              <i data-lucide="arrow-left" class="w-4 h-4"></i>
              <span>Précédent</span>
            </button>
            
            <div class="flex space-x-4 ml-auto">
              <button type="button" id="nextBtn" class="btn btn-primary">
                <span>Suivant</span>
                <i data-lucide="arrow-right" class="w-4 h-4"></i>
              </button>
              <button type="submit" id="submitBtn" class="btn btn-primary hidden">
                <i data-lucide="send" class="w-4 h-4"></i>
                <span>Envoyer ma demande</span>
              </button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </section>

  <Footer slot="footer" />
</Layout>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Multi-step form logic
    let currentStepIndex = 0;
    const steps = document.querySelectorAll('.form-step');
    const totalSteps = steps.length;
    
    const currentStepElement = document.getElementById('currentStep');
    const progressBar = document.getElementById('progressBar');
    const stepTitle = document.getElementById('stepTitle');
    const prevBtn = document.getElementById('prevBtn');
    const nextBtn = document.getElementById('nextBtn');
    const submitBtn = document.getElementById('submitBtn');
    
    const stepTitles = ['Service', 'Informations', 'Objectifs', 'Planification'];
    
    function updateStepDisplay() {
      // Hide all steps
      steps.forEach(step => step.classList.remove('active'));
      
      // Show current step
      steps[currentStepIndex].classList.add('active');
      
      // Update progress
      currentStepElement.textContent = currentStepIndex + 1;
      stepTitle.textContent = stepTitles[currentStepIndex];
      progressBar.style.width = `${((currentStepIndex + 1) / totalSteps) * 100}%`;
      
      // Update buttons
      prevBtn.classList.toggle('hidden', currentStepIndex === 0);
      nextBtn.classList.toggle('hidden', currentStepIndex === totalSteps - 1);
      submitBtn.classList.toggle('hidden', currentStepIndex !== totalSteps - 1);
    }
    
    function validateStep(stepIndex) {
      const step = steps[stepIndex];
      const requiredFields = step.querySelectorAll('[required]');
      const radioGroups = step.querySelectorAll('input[type="radio"]');
      
      // Check required fields
      for (let field of requiredFields) {
        if (!field.value.trim()) {
          field.focus();
          return false;
        }
      }
      
      // Check radio groups in step 1
      if (stepIndex === 0) {
        const serviceSelected = step.querySelector('input[name="service"]:checked');
        if (!serviceSelected) {
          return false;
        }
      }
      
      return true;
    }
    
    nextBtn.addEventListener('click', function() {
      if (validateStep(currentStepIndex)) {
        currentStepIndex++;
        updateStepDisplay();
      }
    });
    
    prevBtn.addEventListener('click', function() {
      currentStepIndex--;
      updateStepDisplay();
    });
    
    // Service selection styling
    document.querySelectorAll('input[name="service"]').forEach(radio => {
      radio.addEventListener('change', function() {
        document.querySelectorAll('.service-option').forEach(option => {
          option.querySelector('.service-check').classList.add('hidden');
          option.querySelector('div').classList.remove('border-blue-500', 'bg-blue-50');
        });
        
        if (this.checked) {
          const option = this.closest('.service-option');
          option.querySelector('.service-check').classList.remove('hidden');
          option.querySelector('.service-check').classList.add('flex');
          option.querySelector('div').classList.add('border-blue-500', 'bg-blue-50');
        }
      });
    });
    
    // Process step details toggle
    document.querySelectorAll('.step-toggle').forEach(toggle => {
      toggle.addEventListener('click', function() {
        const details = this.parentElement.querySelector('.step-details');
        const isHidden = details.classList.contains('hidden');
        
        details.classList.toggle('hidden');
        this.textContent = isHidden ? 'Masquer les détails' : 'Voir les détails';
      });
    });
    
    // Form submission
    document.getElementById('quoteForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Collect form data
      const formData = new FormData(this);
      const data = {};
      formData.forEach((value, key) => {
        if (data[key]) {
          if (Array.isArray(data[key])) {
            data[key].push(value);
          } else {
            data[key] = [data[key], value];
          }
        } else {
          data[key] = value;
        }
      });
      
      // Show loading state
      submitBtn.innerHTML = `
        <div class="animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full"></div>
        <span>Envoi en cours...</span>
      `;
      submitBtn.disabled = true;
      
      // Simulate form submission
      setTimeout(() => {
        // Show success message
        const formContainer = document.querySelector('#quoteForm').parentElement;
        formContainer.innerHTML = `
          <div class="text-center py-12">
            <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6">
              <i data-lucide="check" class="w-10 h-10 text-green-600"></i>
            </div>
            <h3 class="text-2xl font-bold text-black mb-4">Demande envoyée avec succès !</h3>
            <p class="text-gray-600 mb-6">
              Nous vous contacterons dans les 24h pour planifier votre consultation gratuite.
            </p>
            <div class="bg-blue-50 rounded-lg p-4 text-blue-800 text-sm">
              <strong>Prochaines étapes :</strong><br>
              1. Nous analyserons votre demande<br>
              2. Un expert vous contactera pour fixer un rendez-vous<br>
              3. Consultation gratuite de 30 minutes
            </div>
          </div>
        `;
        
        // Reinitialize icons
        lucide.createIcons();
      }, 2000);
    });
    
    // Service card selection
    document.querySelectorAll('.service-select-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        const serviceCard = this.closest('.service-card');
        const serviceId = serviceCard.dataset.service;
        
        // Select the corresponding radio button
        const radio = document.querySelector(`input[name="service"][value="${serviceId}"]`);
        if (radio) {
          radio.checked = true;
          radio.dispatchEvent(new Event('change'));
        }
        
        // Scroll to form
        document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
      });
    });
    
    // Pricing tier selection
    document.querySelectorAll('.pricing-select-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        // Scroll to form
        document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
      });
    });
    
    // Initialize
    updateStepDisplay();
    lucide.createIcons();
  });
</script>

<style>
  .form-step {
    display: none;
  }
  
  .form-step.active {
    display: block;
    animation: fadeInUp 0.4s ease-out;
  }
  
  .service-option:hover .service-check {
    display: flex !important;
    opacity: 0.5;
  }
  
  .service-option input:checked ~ div .service-check {
    display: flex !important;
    opacity: 1;
  }
  
  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>